(this.webpackJsonparticlecreator=this.webpackJsonparticlecreator||[]).push([[0],{197:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(38),i=n.n(o),c=n(3),l=n(2),u=n(1),d=n(41),p=n(5),f=n(11);function m(){var e=Object(c.a)([""]);return m=function(){return e},e}function x(){var e=Object(c.a)(["\n    margin-bottom: 7px;\n    display: flex;\n    justify-content: space-between;\n    position:relative;\n"]);return x=function(){return e},e}var s=l.default.div(x()),g=l.default.div(m()),b=function(e){var t=e.id,n=e.typename,r=e.onTrashClick,o=e.DnD;return a.a.createElement(s,null,a.a.createElement(g,null,a.a.createElement(u.Text,{text:n,style:{font:"medium",color:"tag",fontSize:"16px",letterSpacing:"1px",lineHeight:"20px"}})),a.a.createElement("img",{src:"".concat("/creator","/drag.png"),style:{position:"absolute",left:"48.5%"},onDragStart:function(e){o.onDragStart(e,t)},draggable:!0}),a.a.createElement(u.IconButton,{icon:"Trash",onClick:r}))};function v(){var e=Object(c.a)(["\n    border: 1px solid #d1d3d6;\n    padding:20px;\n"]);return v=function(){return e},e}function h(){var e=Object(c.a)(["\n    display:flex;\n    flex-direction:column;\n    margin-bottom:42px;\n"]);return h=function(){return e},e}var y=l.default.div(h()),C=l.default.div(v()),E=function(e){var t=e.id,n=e.typename,r=e.dispatch,o=e.content,i=e.DnD;return a.a.createElement(y,null,a.a.createElement(b,{id:t,typename:n,onTrashClick:function(){return r({type:"onDeleteContentBox",boxId:t})},DnD:i}),a.a.createElement("div",{id:t.toString(),onDragOver:i.onDragOver,onDragLeave:i.onDragLeave,onDrop:i.onDrop},"Credit"===n?a.a.createElement(C,null,a.a.createElement(u.Input,{label:"Type of credit",style:{height:"41px",marginBottom:"18px"},value:o.type,onChange:function(e){return r({type:"onChangeCredit",box:{id:t,type:e,name:null}})}}),a.a.createElement(u.Input,{label:"Name",style:{height:"41px"},value:o.name,onChange:function(e){return r({type:"onChangeCredit",box:{id:t,name:e,type:null}})}})):a.a.createElement(u.Textarea,{style:{height:"108px"},value:o,onChange:function(e){return r({type:"onChangeText",box:{id:t,text:e}})}})))};function j(){var e=Object(c.a)(["\n    position: absolute;\n    top: 15px;\n    right: 15px;\n"]);return j=function(){return e},e}function O(){var e=Object(c.a)(["\n    position:absolute;\n    width:176px;\n    height:40px;\n    background-color: #ffffff;\n    padding:8px;\n    top:121px;\n    left: calc((100% - 192px)/2);\n    display: flex;\n    justify-content: space-between;\n\n    & > div {\n        height:40px;\n        background-color: #d1d3d6;\n        cursor:pointer;\n    }\n\n"]);return O=function(){return e},e}function D(){var e=Object(c.a)(["\n    width:100%;\n    height: 100%;\n    object-fit: contain;\n"]);return D=function(){return e},e}function T(){var e=Object(c.a)(["\n    position:relative;\n    max-width:",";\n    max-height: ",";\n"]);return T=function(){return e},e}function w(){var e=Object(c.a)(["\n    border: 1px solid #d1d3d6;\n    padding:20px;\n    display: flex;\n    justify-content: space-between;\n"]);return w=function(){return e},e}function I(){var e=Object(c.a)(["\n    display:flex;\n    flex-direction:column;\n    margin-bottom:42px;\n"]);return I=function(){return e},e}var S=l.default.div(I()),k=l.default.div(w()),B="Upload your  image",z=227,G=298,W=l.default.div(T(),(function(e){return e.fullWidth?"100%":"calc( 50% - 10px)"}),(function(e){return e.fullWidth?"100%":"310px"})),H=l.default.img(D()),P=l.default.div(O()),L=l.default.div(j()),A=a.a.memo((function(e){var t=e.id,n=e.typename,r=e.dispatch,o=e.content,i=e.DnD;return a.a.createElement(S,null,a.a.createElement(b,{id:t,typename:n,onTrashClick:function(){return r({type:"onDeleteContentBox",boxId:t})},DnD:i}),a.a.createElement(k,{id:t.toString(),onDragOver:i.onDragOver,onDragLeave:i.onDragLeave,onDrop:i.onDrop},o.map((function(e,n){return null===e?a.a.createElement(u.Dropzone,{key:n,text:B,onFileDrop:function(e){return r({type:"onDropGalleryImage",box:{image:e,id:t,position:n}})},width:z,height:G}):a.a.createElement(W,{fullWidth:1===o.length},a.a.createElement(H,{src:e.thumbnail,draggable:!1}),a.a.createElement(L,null,a.a.createElement(u.IconButton,{icon:"Close",onClick:function(){return r({type:"onDeleteImageFromBox",box:{id:t,position:n}})}})),a.a.createElement(P,null,a.a.createElement("div",{onClick:function(){return r({type:"onSwapImagePosition",box:{id:t,position:0}})},style:{width:"40px",backgroundColor:0===n&&1!==o.length&&"#86ea58"}}),a.a.createElement("div",{onClick:function(){return r({type:"onSwapImagePosition",box:{id:t,position:1}})},style:{width:"40px",backgroundColor:1===n&&1!==o.length&&"#86ea58"}}),a.a.createElement("div",{onClick:function(){return r({type:"onImageToFullWidthGallery",boxId:t})},style:{width:"80px",backgroundColor:1===o.length&&"#86ea58"}})))}))))}));function F(){var e=Object(c.a)(["\n    width: 100%;\n"]);return F=function(){return e},e}function M(){var e=Object(c.a)(["\n    object-fit: cover;\n    height: 100%;\n"]);return M=function(){return e},e}function J(){var e=Object(c.a)(["\n    width:100%;\n    justify-content: space-between;\n    display: flex;\n    margin-bottom:64px;\n"]);return J=function(){return e},e}var K=l.default.div(J()),Q=l.default.img(M()),R=l.default.div(F()),U=function(e){var t=e.content;return a.a.createElement(K,null,2===t.length?t.map((function(e){return null!==e?a.a.createElement(Q,{src:e.thumbnail,style:{width:"460px"}}):a.a.createElement(R,null)})):a.a.createElement(Q,{src:t[0].thumbnail,style:{maxWidth:"100%"}}))},q=function(e){var t=e.type,n=e.content,r={Text:{font:"medium",fontSize:"20px",lineHeight:"28px",marginBottom:"64px",maxWidth:"727px"},Credit:{font:"medium",fontSize:"20px",lineHeight:"28px",marginBottom:"64px",maxWidth:"727px",alignSelf:"flex-start"},Qoute:{font:"semi",fontSize:"24px",lineHeight:"32px",letterSpacing:"0.5px",marginBottom:"64px",maxWidth:"727px",textAlign:"center"}};return"Credit"==t?a.a.createElement(u.Text,{text:"".concat(n.type,":").concat(n.name),style:r[t]}):a.a.createElement(u.Text,{text:n,style:r[t]})};function N(){var e=Object(c.a)(["\n    margin-top:45px;\n    display: flex;\n    align-items: center;\n"]);return N=function(){return e},e}function V(){var e=Object(c.a)(["\n    margin-bottom:12px;\n    display: flex;\n    align-items: center;\n"]);return V=function(){return e},e}function X(){var e=Object(c.a)(["\n    margin-top:112px;\n    width: 100%;\n    height: 500px;\n    object-fit: cover;\n    margin-bottom:64px;\n"]);return X=function(){return e},e}function Y(){var e=Object(c.a)(["\n    display: flex;\n    flex-direction: column;\n    max-width: 940px;\n    width: 100%;\n    align-items: center;\n    align-self: center;\n"]);return Y=function(){return e},e}var Z=l.default.div(Y()),$=l.default.img(X()),_=l.default.div(V()),ee=l.default.div(N()),te=function(e){var t=e.title,n=e.description,r=e.coverImage,o=e.articleContent,i=e.onBackClick;return a.a.createElement(Z,null,a.a.createElement(_,null,a.a.createElement(u.Text,{text:"Jessica Ferguson",style:{fontSize:"16px",lineHeight:"20px",font:"medium",marginRight:"27px",color:"tag"}}),a.a.createElement(u.Label,{value:"Curator",type:"green",size:"small"})),a.a.createElement(u.Text,{text:t,style:{fontSize:"32px",lineHeight:"40px",textAlign:"center",marginBottom:"25px",maxWidth:"727px"}}),a.a.createElement(u.Text,{text:n,style:{fontSize:"16px",lineHeight:"20px",font:"medium",color:"tag",textAlign:"center",maxWidth:"727px"}}),a.a.createElement(ee,null,a.a.createElement(u.DateTime,{style:{color:"text",fontSize:"18px",marginRight:"32px"}}),a.a.createElement(u.Label,{value:"Contributors",type:"grey"}),a.a.createElement(u.Text,{text:"Share: FB, TW",style:{fontSize:"18px",lineHeight:"22px",font:"medium",marginLeft:"32px"}})),a.a.createElement($,{src:r.thumbnail}),o.map((function(e,t){return"Gallery"===e.type?a.a.createElement(U,Object.assign({key:t},e)):a.a.createElement(q,Object.assign({key:t},e))})),a.a.createElement(u.Link,{value:"Back",onClick:i}))};function ne(){var e=Object(c.a)(["\n    object-fit: cover;\n    height: 272px;\n"]);return ne=function(){return e},e}function re(){var e=Object(c.a)(["\n    margin-bottom:42px;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n"]);return re=function(){return e},e}function ae(){var e=Object(c.a)(['\n    display: flex;\n    justify-content: space-between;\n    margin-top:"40px"px;\n    margin-bottom:56px;\n']);return ae=function(){return e},e}function oe(){var e=Object(c.a)(["\n    max-width:513px;\n    align-self: center;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n"]);return oe=function(){return e},e}var ie={title:"",description:"",coverImage:null,articleContent:[]},ce=l.default.div(oe()),le=l.default.div(ae()),ue=l.default.div(re()),de=l.default.img(ne());function pe(e,t){switch(t.type){case"onChangeTitle":return function(e,t){return Object(p.a)({},e,{title:t})}(e,t.title);case"onChangeDescription":return function(e,t){return Object(p.a)({},e,{description:t})}(e,t.desc);case"onDropCoverImage":return function(e,t){return Object(p.a)({},e,{coverImage:t})}(e,t.image);case"onChangeText":return function(e,t){var n=t.id,r=t.text,a=Object(p.a)({},e);return a.articleContent.find((function(e){return e.id===n})).content=r,a}(e,t.box);case"onChangeCredit":return function(e,t){var n=t.id,r=t.type,a=t.name,o=Object(p.a)({},e),i=o.articleContent.find((function(e){return e.id===n}));null===r?i.content.name=a:i.content.type=r;return o}(e,t.box);case"addContent":return function(e,t){var n=Object(p.a)({},e),r={id:(a=n.articleContent,Math.max.apply(Math,Object(f.a)(a.map((function(e){return e.id}))).concat([0]))+1),type:t,content:{Gallery:[null,null],Qoute:"",Text:"",Credit:{type:"",name:""}}[t]};var a;return Object(p.a)({},e,{articleContent:[].concat(Object(f.a)(e.articleContent),[r])})}(e,t.box);case"onDropGalleryImage":return function(e,t){var n=t.id,r=t.image,a=t.position,o=Object(p.a)({},e);return o.articleContent.find((function(e){return e.id===n})).content[a]=r,o}(e,t.box);case"onDeleteContentBox":return function(e,t){return Object(p.a)({},e,{articleContent:e.articleContent.filter((function(e){return e.id!==t}))})}(e,t.boxId);case"onDeleteImageFromBox":return function(e,t){var n=t.id,r=t.position,a=Object(f.a)(e.articleContent);return a.find((function(e){return e.id===n})).content[r]=null,Object(p.a)({},e,{articleContent:a})}(e,t.box);case"onSwapImagePosition":return function(e,t){var n=t.id,r=t.position,a=Object(f.a)(e.articleContent),o=a.find((function(e){return e.id===n}));if(2===o.content.length){var i=[o.content[1],o.content[0]];o.content[0]=i[0],o.content[1]=i[1]}else o.content[r]=o.content[0],o.content[Math.abs(r-1)]=null;return Object(p.a)({},e,{articleContent:a})}(e,t.box);case"onImageToFullWidthGallery":return function(e,t){var n=Object(f.a)(e.articleContent),r=n.find((function(e){return e.id===t})),a=r.content.find((function(e){return null!=e}));return r.content[0]=a,r.content.pop(),Object(p.a)({},e,{articleContent:n})}(e,t.boxId);case"swapAfterDrop":return function(e,t){var n=t.targetId,r=t.selectedId,a=Object(f.a)(e.articleContent),o=a.findIndex((function(e){return e.id===n})),i=a.findIndex((function(e){return e.id===r})),c=[a[i],a[o]];return a[o]=c[0],a[i]=c[1],Object(p.a)({},e,{articleContent:a})}(e,t.boxes);default:return e}}var fe=[{buttonText:"Add image",contentType:"Gallery"},{buttonText:"Add text",contentType:"Text"},{buttonText:"Add qoute",contentType:"Qoute"},{buttonText:"Add credit",contentType:"Credit"}],me=function(){var e=Object(r.useReducer)(pe,ie),t=Object(d.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)(!1),c=Object(d.a)(i,2),l=c[0],p=c[1],f={onDragStart:function(e,t){e.dataTransfer.setData("text",t)},onDragOver:function(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.style.boxShadow="#000000 0px 0px 10px 3px",e.dataTransfer.dropEffect="move"},onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.style.boxShadow="",e.dataTransfer.dropEffect="move"},onDrop:function(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.style.boxShadow="";var t=parseInt(e.currentTarget.id,10),n=parseInt(e.dataTransfer.getData("text"),10);o({type:"swapAfterDrop",boxes:{targetId:t,selectedId:n}})}};return l?a.a.createElement(te,Object.assign({},n,{onBackClick:function(){return p(!1)}})):a.a.createElement(ce,null,a.a.createElement(ue,null,a.a.createElement(u.Button,{value:"Publish story",style:{marginBottom:"40px",width:"200px",alignSelf:"center"},type:"actionSmall"}),a.a.createElement(u.Input,{type:"text",label:"Story title",style:{marginBottom:"40px"},value:n.title,onChange:function(e){return o({type:"onChangeTitle",title:e})}}),a.a.createElement(u.Textarea,{label:"Story short description",style:{marginBottom:"40px",height:"108px"},value:n.description,onChange:function(e){return o({type:"onChangeDescription",desc:e})}}),null===n.coverImage?a.a.createElement(u.Dropzone,{text:"Upload your cover image",onFileDrop:function(e){return o({type:"onDropCoverImage",image:e})},height:273}):a.a.createElement(de,{src:n.coverImage.thumbnail})),n.articleContent.map((function(e){var t="Gallery"===e.type?A:E;return a.a.createElement(t,{id:e.id,typename:e.type,content:e.content,dispatch:o,DnD:f})})),a.a.createElement(le,null,fe.map((function(e,t){return a.a.createElement(u.Button,{key:t,value:e.buttonText,type:"small",onClick:function(){return o({type:"addContent",box:e.contentType})}})}))),a.a.createElement(u.Button,{value:"Publish story",style:{marginBottom:"40px",width:"200px",alignSelf:"center"},type:"actionSmall"}),a.a.createElement(u.Link,{value:"Preview",onClick:function(){return n.coverImage?p(!0):alert("Please add cover image")},style:{alignSelf:"center"}}))};function xe(){var e=Object(c.a)(["\n\n    width:100%;\n    position:relative;\n    text-rendering: optimizelegibility;\n    -webkit-font-smoothing: antialiased;\n    display: flex;\n    justify-content: center;\n    padding-top: 20px;\n\n"]);return xe=function(){return e},e}function se(){var e=Object(c.a)(["\n  ","\n"]);return se=function(){return e},e}var ge=Object(l.createGlobalStyle)(se(),Object(u.defaultBodyCss)("./../public/fonts/HKGrotesk-Bold.otf","./../public/fonts/HKGrotesk-Medium.otf","./../public/fonts/HKGrotesk-SemiBold.otf")),be=l.default.div(xe()),ve=function(){return a.a.createElement(l.ThemeProvider,{theme:u.DefaultThemeOnestino},a.a.createElement(ge,null),a.a.createElement(be,null,a.a.createElement(me,null)))};i.a.render(a.a.createElement(ve,null),document.getElementById("root"))},71:function(e,t,n){e.exports=n(197)}},[[71,1,2]]]);
//# sourceMappingURL=main.2d8fc186.chunk.js.map